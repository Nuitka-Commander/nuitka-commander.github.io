function B(f,a){for(var e=0;e<a.length;e++){const r=a[e];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in f)){const s=Object.getOwnPropertyDescriptor(r,o);s&&Object.defineProperty(f,o,s.get?s:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}))}var x={},N=function(a){return a.map(function(e){return e===""?"''":e&&typeof e=="object"?e.op.replace(/(.)/g,"\\$1"):/["\s]/.test(e)&&!/'/.test(e)?"'"+e.replace(/(['\\])/g,"\\$1")+"'":/["'\s]/.test(e)?'"'+e.replace(/(["\\$`!])/g,"\\$1")+'"':String(e).replace(/([A-Za-z]:)?([#!"$&'()*,:;<=>?@[\\\]^`{|}])/g,"$1\\$2")}).join(" ")},T="(?:"+["\\|\\|","\\&\\&",";;","\\|\\&","\\<\\(","\\<\\<\\<",">>",">\\&","<\\&","[&;()|<>]"].join("|")+")",w=new RegExp("^"+T+"$"),A="|&;()<> \\t",q='"((\\\\"|[^"])*?)"',D="'((\\\\'|[^'])*?)'",I=/^#$/,S="'",_='"',$="$",v="",Q=4294967296;for(var R=0;R<4;R++)v+=(Q*Math.random()).toString(16);var L=new RegExp("^"+v);function M(f,a){for(var e=a.lastIndex,r=[],o;o=a.exec(f);)r.push(o),a.lastIndex===o.index&&(a.lastIndex+=1);return a.lastIndex=e,r}function P(f,a,e){var r=typeof f=="function"?f(e):f[e];return typeof r>"u"&&e!=""?r="":typeof r>"u"&&(r="$"),typeof r=="object"?a+v+JSON.stringify(r)+v:a+r}function U(f,a,e){e||(e={});var r=e.escape||"\\",o="(\\"+r+`['"`+A+`]|[^\\s'"`+A+"])+",s=new RegExp(["("+T+")","("+o+"|"+q+"|"+D+")+"].join("|"),"g"),c=M(f,s);if(c.length===0)return[];a||(a={});var d=!1;return c.map(function(l){var i=l[0];if(!i||d)return;if(w.test(i))return{op:i};var g=!1,E=!1,u="",O=!1,n;function b(){n+=1;var p,h,m=i.charAt(n);if(m==="{"){if(n+=1,i.charAt(n)==="}")throw new Error("Bad substitution: "+i.slice(n-2,n+1));if(p=i.indexOf("}",n),p<0)throw new Error("Bad substitution: "+i.slice(n));h=i.slice(n,p),n=p}else if(/[*@#?$!_-]/.test(m))h=m,n+=1;else{var y=i.slice(n);p=y.match(/[^\w\d_]/),p?(h=y.slice(0,p.index),n+=p.index-1):(h=y,n=i.length)}return P(a,"",h)}for(n=0;n<i.length;n++){var t=i.charAt(n);if(O=O||!g&&(t==="*"||t==="?"),E)u+=t,E=!1;else if(g)t===g?g=!1:g==S?u+=t:t===r?(n+=1,t=i.charAt(n),t===_||t===r||t===$?u+=t:u+=r+t):t===$?u+=b():u+=t;else if(t===_||t===S)g=t;else{if(w.test(t))return{op:i};if(I.test(t)){d=!0;var j={comment:f.slice(l.index+n+1)};return u.length?[u,j]:[j]}else t===r?E=!0:t===$?u+=b():u+=t}}return O?{op:"glob",pattern:u}:u}).reduce(function(l,i){return typeof i>"u"?l:l.concat(i)},[])}var z=function(a,e,r){var o=U(a,e,r);return typeof e!="function"?o:o.reduce(function(s,c){if(typeof c=="object")return s.concat(c);var d=c.split(RegExp("("+v+".*?"+v+")","g"));return d.length===1?s.concat(d[0]):s.concat(d.filter(Boolean).map(function(l){return L.test(l)?JSON.parse(l.split(v)[1]):l}))},[])},G=x.quote=N,J=x.parse=z;const V=B({__proto__:null,default:x,parse:J,quote:G},[x]);export{V as i};
